## Day 4

---



### JSP 동작 원리

---

**웹브라우저 요청 -> `JSP >> Servlet` -> `Servlet >> class` -> 웹브라우저 응답**

결론적으로 `JSP`또한 `Servlet`으로 바뀐다.

응답은 `html`코드로 반환하기 때문에 `JSP`코드는 클라이언트가 볼 수 없다.

> 서블릿의 경우에는 클라이언트가 `request`를 주면 서블릿이 스레드를 만든다.
>
> 또 요청이 들어오면 기존 서블릿 객체를 이용해서 스레드를 만든다. -> **멀티스레딩**
>
> 이를 통해 다른 `cgi`언어에 비해서 서버 부하가 적게 걸리기 떄문에 속도가 빠름



>JSP의 경우, 클라이언트가 `request`를 하면 우선 서블릿의 존재유무를 판단하고 없는 경우에 `servlet.java`, `servlet.class`를 메모리에 올리고 실행하여 응답해준다.
>
>따라서 `JSP` 는 서블릿보다는 약간 느릴수 있으나 거의 동일한 속도를 보인다.



### JSP 내부 객체

---

개발시 개발자가 따로 객체를 생성하지 않고 바로 사용할 수 있는 객체를 의미한다.

`JSP`에서 제공되는 내부 객체는 `JSP`컨테이너에 의해 `Servlet`으로 변화될 때 자동으로 객체가 생성된다.

**내부객체 종류**

>입출력 객체 : `request, response, out`
>
>서블릿 객체 : `page, config`
>
>세션 객체 : `session`
>
>예외 객체 : `exception`



### 스크립트릿, 선언, 표현식

---

`JSP` 문서 안에 `Java` 언어를 넣기 위한 방식이다.



#### 스크립트릿 (`<%	java code %>` )

---

`JSP`페이지에서 `Java`언어를 사용하기 위한 요소 중 가장 많이 사용되는 요소이다.

우리가 알고 있는 거의 모든 `Java`코드를 사용할 수 있다.

```html
<body>
    <%
       int i = 0;
       while(true) {
       		i++;
       out.println("2 * " + i + " = " + (2*i) + ""<br/>")		<!-- out은 출력 내부객체! -->
       }
    %>
    ============= <br/>
    <%
       if(i >= 9) break;
    %>
</body>
```

이와 같이 `JSP`코드는 한 코드 내에 `html`코드와 `java`코드가 공존한다.



